{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AITutor=()=>{const[courses,setCourses]=useState([]);const[selectedCourse,setSelectedCourse]=useState(null);const[practiceCards,setPracticeCards]=useState([]);const[currentCardIndex,setCurrentCardIndex]=useState(0);const[showAnswer,setShowAnswer]=useState(false);const[message,setMessage]=useState('');const[courseStats,setCourseStats]=useState(null);const[showHint,setShowHint]=useState(false);const[hintUsed,setHintUsed]=useState(false);// New states for speech recognition\nconst[isRecording,setIsRecording]=useState(false);const[recordedAudio,setRecordedAudio]=useState(null);const[evaluationResult,setEvaluationResult]=useState(null);const mediaRecorderRef=useRef(null);const audioChunksRef=useRef([]);const API_BASE='';useEffect(()=>{fetchCourses();},[]);const fetchCourses=async()=>{try{const response=await axios.get(\"\".concat(API_BASE,\"/courses\"));setCourses(response.data);}catch(error){setMessage('Failed to load courses. Make sure the AI tutor backend is running.');}};const selectCourse=async iso=>{try{const response=await axios.get(\"\".concat(API_BASE,\"/practice/\").concat(iso));const statsResponse=await axios.get(\"\".concat(API_BASE,\"/course/\").concat(iso,\"/stats\"));setSelectedCourse(iso);setPracticeCards(response.data);setCourseStats(statsResponse.data);setCurrentCardIndex(0);setShowAnswer(false);setMessage('');setEvaluationResult(null);}catch(error){setMessage('Failed to load practice cards.');}};const resetCourse=async()=>{if(!selectedCourse)return;try{await axios.post(\"\".concat(API_BASE,\"/course/\").concat(selectedCourse,\"/reset\"));setMessage('Course progress reset!');selectCourse(selectedCourse);// Refresh the course\n}catch(error){setMessage('Failed to reset course.');}};const reviewCard=async quality=>{if(practiceCards.length===0)return;const cardId=practiceCards[currentCardIndex].id;try{await axios.post(\"\".concat(API_BASE,\"/review/\").concat(cardId),quality);nextCard();setEvaluationResult(null);}catch(error){setMessage('Failed to review card.');}};const nextCard=()=>{if(currentCardIndex<practiceCards.length-1){setCurrentCardIndex(currentCardIndex+1);setShowAnswer(false);setEvaluationResult(null);}else{setMessage('Practice session complete!');setPracticeCards([]);setSelectedCourse(null);setEvaluationResult(null);}};const playTTS=(text,lang)=>{const audio=new Audio(\"\".concat(API_BASE,\"/practice/tts?text=\").concat(encodeURIComponent(text),\"&lang=\").concat(lang));audio.play();};// Start recording audio\nconst startRecording=()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){setMessage('Your browser does not support audio recording.');return;}setMessage('');setEvaluationResult(null);navigator.mediaDevices.getUserMedia({audio:true}).then(stream=>{mediaRecorderRef.current=new MediaRecorder(stream,{mimeType:'audio/webm'});audioChunksRef.current=[];mediaRecorderRef.current.ondataavailable=event=>{if(event.data.size>0){audioChunksRef.current.push(event.data);}};mediaRecorderRef.current.onstop=()=>{const audioBlob=new Blob(audioChunksRef.current,{type:'audio/webm'});setRecordedAudio(audioBlob);evaluatePronunciation(audioBlob);};mediaRecorderRef.current.start();setIsRecording(true);}).catch(()=>{setMessage('Microphone access denied or not available.');});};// Stop recording audio\nconst stopRecording=()=>{if(mediaRecorderRef.current&&isRecording){mediaRecorderRef.current.stop();setIsRecording(false);}};// Send recorded audio to backend for evaluation\nconst evaluatePronunciation=async audioBlob=>{if(practiceCards.length===0)return;const expectedText=practiceCards[currentCardIndex].back;const formData=new FormData();formData.append('expected',expectedText);formData.append('file',audioBlob,'recording.webm');try{const response=await axios.post(\"\".concat(API_BASE,\"/practice/evaluate\"),formData,{headers:{'Content-Type':'multipart/form-data'}});setEvaluationResult(response.data);}catch(error){setMessage('Failed to evaluate pronunciation.');}};return/*#__PURE__*/_jsx(\"section\",{id:\"ai-tutor\",className:\"py-20 relative overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-6 relative z-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-center text-gray-800 mb-16 animate-fade-in\",children:\"AI Language Tutor (Demo)\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500 mb-4 animate-bounce\",children:message}),!selectedCourse?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl mb-8 text-gray-700\",children:\"Select a Language to Practice\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",children:courses.map(course=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>selectCourse(course.iso),className:\"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-4 px-6 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl mb-2\",children:\"\\uD83C\\uDF0D\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:course.language}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm opacity-90\",children:[\"(\",course.card_count,\" cards)\"]})]},course.iso))}),courses.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No courses available. Demo languages will be seeded automatically.\"})]}):practiceCards.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl p-10 animate-slide-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedCourse(null);setPracticeCards([]);setMessage('');},className:\"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300\",children:\"\\u2190 Back to Languages\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetCourse,className:\"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300\",children:\"\\uD83D\\uDD04 Reset Progress\"})]}),courseStats&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg mb-6\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-blue-800 mb-2\",children:\"Course Progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:courseStats.total_cards}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Cards\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:courseStats.mastered}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Mastered\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-orange-600\",children:courseStats.due_today}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Due Today\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-lg\",children:[\"Card \",currentCardIndex+1,\" of \",practiceCards.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat((currentCardIndex+1)/practiceCards.length*100,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-3xl font-bold mb-6 text-center text-gray-800\",children:practiceCards[currentCardIndex].front}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex justify-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>playTTS(practiceCards[currentCardIndex].front,'en'),className:\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\",children:\"\\uD83D\\uDD0A English\"}),/*#__PURE__*/_jsx(\"button\",{onClick:isRecording?stopRecording:startRecording,className:\"py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold \".concat(isRecording?'bg-red-600 hover:bg-red-700 text-white':'bg-green-500 hover:bg-green-600 text-white'),children:isRecording?'⏹ Stop Recording':'🎤 Record'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowHint(!showHint);if(!showHint)setHintUsed(true);},className:\"bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\",children:\"\\uD83D\\uDCA1 Hint\"})]}),showHint&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4 animate-fade-in\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-600\",children:[\"First letter: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-purple-600\",children:practiceCards[currentCardIndex].back.charAt(0)})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(currentCardIndex>0){setCurrentCardIndex(currentCardIndex-1);setShowAnswer(false);setShowHint(false);setHintUsed(false);setEvaluationResult(null);}},disabled:currentCardIndex===0,className:\"py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold \".concat(currentCardIndex===0?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-indigo-500 hover:bg-indigo-600 text-white hover:scale-105'),children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(currentCardIndex<practiceCards.length-1){setCurrentCardIndex(currentCardIndex+1);setShowAnswer(false);setShowHint(false);setHintUsed(false);setEvaluationResult(null);}},disabled:currentCardIndex===practiceCards.length-1,className:\"py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold \".concat(currentCardIndex===practiceCards.length-1?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-indigo-500 hover:bg-indigo-600 text-white hover:scale-105'),children:\"Next \\u2192\"})]})]}),!showAnswer?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnswer(true),className:\"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-4 px-8 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 text-xl font-semibold\",children:\"Show Answer \\u2728\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"animate-fade-in\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl mb-6 text-center text-gray-700 font-medium\",children:practiceCards[currentCardIndex].back}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6 flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>playTTS(practiceCards[currentCardIndex].back,selectedCourse),className:\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\",children:\"\\uD83D\\uDD0A Target Language\"}),evaluationResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 rounded-lg shadow-md text-left max-w-lg mx-auto border-l-4 \".concat(evaluationResult.similarity>=80?'bg-green-50 border-green-500':evaluationResult.similarity>=60?'bg-yellow-50 border-yellow-500':'bg-red-50 border-red-500'),children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-bold text-lg mb-3 flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2\",children:\"\\uD83C\\uDFA4\"}),\"Pronunciation Feedback\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Similarity Score:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-lg \".concat(evaluationResult.similarity>=80?'text-green-600':evaluationResult.similarity>=60?'text-yellow-600':'text-red-600'),children:[evaluationResult.similarity,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full transition-all duration-500 \".concat(evaluationResult.similarity>=80?'bg-green-500':evaluationResult.similarity>=60?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat(evaluationResult.similarity,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Grade:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-600 font-semibold\",children:evaluationResult.grade})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Feedback:\"}),\" \",evaluationResult.feedback]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"You said:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"italic\",children:[\"\\\"\",evaluationResult.transcript,\"\\\"\"]})]})]}),evaluationResult.similarity>=80&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-semibold\",children:\"\\uD83C\\uDF89 Excellent pronunciation!\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>reviewCard(0),className:\"bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\",children:\"Again (0)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>reviewCard(1),className:\"bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\",children:\"Hard (1)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>reviewCard(2),className:\"bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\",children:\"Good (2)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>reviewCard(3),className:\"bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\",children:\"Easy (3)\"})]})]})]})]})});};export default AITutor;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsx","_jsx","jsxs","_jsxs","AITutor","courses","setCourses","selectedCourse","setSelectedCourse","practiceCards","setPracticeCards","currentCardIndex","setCurrentCardIndex","showAnswer","setShowAnswer","message","setMessage","courseStats","setCourseStats","showHint","setShowHint","hintUsed","setHintUsed","isRecording","setIsRecording","recordedAudio","setRecordedAudio","evaluationResult","setEvaluationResult","mediaRecorderRef","audioChunksRef","API_BASE","fetchCourses","response","get","concat","data","error","selectCourse","iso","statsResponse","resetCourse","post","reviewCard","quality","length","cardId","id","nextCard","playTTS","text","lang","audio","Audio","encodeURIComponent","play","startRecording","navigator","mediaDevices","getUserMedia","then","stream","current","MediaRecorder","mimeType","ondataavailable","event","size","push","onstop","audioBlob","Blob","type","evaluatePronunciation","start","catch","stopRecording","stop","expectedText","back","formData","FormData","append","headers","className","children","map","course","onClick","language","card_count","total_cards","mastered","due_today","style","width","front","charAt","disabled","similarity","grade","feedback","transcript"],"sources":["/home/kj/portfolio/portfolio/frontend/src/components/ChatBot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AITutor = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [practiceCards, setPracticeCards] = useState([]);\r\n  const [currentCardIndex, setCurrentCardIndex] = useState(0);\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [courseStats, setCourseStats] = useState(null);\r\n  const [showHint, setShowHint] = useState(false);\r\n  const [hintUsed, setHintUsed] = useState(false);\r\n\r\n  // New states for speech recognition\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [recordedAudio, setRecordedAudio] = useState(null);\r\n  const [evaluationResult, setEvaluationResult] = useState(null);\r\n  const mediaRecorderRef = useRef(null);\r\n  const audioChunksRef = useRef([]);\r\n\r\n  const API_BASE = '';\r\n\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/courses`);\r\n      setCourses(response.data);\r\n    } catch (error) {\r\n      setMessage('Failed to load courses. Make sure the AI tutor backend is running.');\r\n    }\r\n  };\r\n\r\n  const selectCourse = async (iso) => {\r\n    try {\r\n      const response = await axios.get(`${API_BASE}/practice/${iso}`);\r\n      const statsResponse = await axios.get(`${API_BASE}/course/${iso}/stats`);\r\n      setSelectedCourse(iso);\r\n      setPracticeCards(response.data);\r\n      setCourseStats(statsResponse.data);\r\n      setCurrentCardIndex(0);\r\n      setShowAnswer(false);\r\n      setMessage('');\r\n      setEvaluationResult(null);\r\n    } catch (error) {\r\n      setMessage('Failed to load practice cards.');\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const resetCourse = async () => {\r\n    if (!selectedCourse) return;\r\n    try {\r\n      await axios.post(`${API_BASE}/course/${selectedCourse}/reset`);\r\n      setMessage('Course progress reset!');\r\n      selectCourse(selectedCourse); // Refresh the course\r\n    } catch (error) {\r\n      setMessage('Failed to reset course.');\r\n    }\r\n  };\r\n\r\n  const reviewCard = async (quality) => {\r\n    if (practiceCards.length === 0) return;\r\n    const cardId = practiceCards[currentCardIndex].id;\r\n    try {\r\n      await axios.post(`${API_BASE}/review/${cardId}`, quality);\r\n      nextCard();\r\n      setEvaluationResult(null);\r\n    } catch (error) {\r\n      setMessage('Failed to review card.');\r\n    }\r\n  };\r\n\r\n  const nextCard = () => {\r\n    if (currentCardIndex < practiceCards.length - 1) {\r\n      setCurrentCardIndex(currentCardIndex + 1);\r\n      setShowAnswer(false);\r\n      setEvaluationResult(null);\r\n    } else {\r\n      setMessage('Practice session complete!');\r\n      setPracticeCards([]);\r\n      setSelectedCourse(null);\r\n      setEvaluationResult(null);\r\n    }\r\n  };\r\n\r\n  const playTTS = (text, lang) => {\r\n    const audio = new Audio(`${API_BASE}/practice/tts?text=${encodeURIComponent(text)}&lang=${lang}`);\r\n    audio.play();\r\n  };\r\n\r\n  // Start recording audio\r\n  const startRecording = () => {\r\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\r\n      setMessage('Your browser does not support audio recording.');\r\n      return;\r\n    }\r\n    setMessage('');\r\n    setEvaluationResult(null);\r\n    navigator.mediaDevices.getUserMedia({ audio: true })\r\n      .then(stream => {\r\n        mediaRecorderRef.current = new MediaRecorder(stream, { mimeType: 'audio/webm' });\r\n        audioChunksRef.current = [];\r\n        mediaRecorderRef.current.ondataavailable = event => {\r\n          if (event.data.size > 0) {\r\n            audioChunksRef.current.push(event.data);\r\n          }\r\n        };\r\n        mediaRecorderRef.current.onstop = () => {\r\n          const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\r\n          setRecordedAudio(audioBlob);\r\n          evaluatePronunciation(audioBlob);\r\n        };\r\n        mediaRecorderRef.current.start();\r\n        setIsRecording(true);\r\n      })\r\n      .catch(() => {\r\n        setMessage('Microphone access denied or not available.');\r\n      });\r\n  };\r\n\r\n  // Stop recording audio\r\n  const stopRecording = () => {\r\n    if (mediaRecorderRef.current && isRecording) {\r\n      mediaRecorderRef.current.stop();\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  // Send recorded audio to backend for evaluation\r\n  const evaluatePronunciation = async (audioBlob) => {\r\n    if (practiceCards.length === 0) return;\r\n    const expectedText = practiceCards[currentCardIndex].back;\r\n    const formData = new FormData();\r\n    formData.append('expected', expectedText);\r\n    formData.append('file', audioBlob, 'recording.webm');\r\n    try {\r\n      const response = await axios.post(`${API_BASE}/practice/evaluate`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      setEvaluationResult(response.data);\r\n    } catch (error) {\r\n      setMessage('Failed to evaluate pronunciation.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section id=\"ai-tutor\" className=\"py-20 relative overflow-hidden\">\r\n      <div className=\"container mx-auto px-6 relative z-10\">\r\n        <h2 className=\"text-4xl font-bold text-center text-gray-800 mb-16 animate-fade-in\">AI Language Tutor (Demo)</h2>\r\n\r\n        {message && <p className=\"text-center text-red-500 mb-4 animate-bounce\">{message}</p>}\r\n\r\n        {!selectedCourse ? (\r\n          <div className=\"text-center\">\r\n            <h3 className=\"text-2xl mb-8 text-gray-700\">Select a Language to Practice</h3>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n              {courses.map(course => (\r\n                <button\r\n                  key={course.iso}\r\n                  onClick={() => selectCourse(course.iso)}\r\n                  className=\"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white py-4 px-6 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 flex flex-col items-center\"\r\n                >\r\n                  <span className=\"text-2xl mb-2\">🌍</span>\r\n                  <span className=\"font-semibold\">{course.language}</span>\r\n                  <span className=\"text-sm opacity-90\">({course.card_count} cards)</span>\r\n                </button>\r\n              ))}\r\n            </div>\r\n            {courses.length === 0 && <p className=\"text-gray-600\">No courses available. Demo languages will be seeded automatically.</p>}\r\n          </div>\r\n        ) : (\r\n          practiceCards.length > 0 && (\r\n            <div className=\"max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl p-10 animate-slide-up\">\r\n              {/* Header with navigation and stats */}\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <button\r\n                  onClick={() => {\r\n                    setSelectedCourse(null);\r\n                    setPracticeCards([]);\r\n                    setMessage('');\r\n                  }}\r\n                  className=\"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300\"\r\n                >\r\n                  ← Back to Languages\r\n                </button>\r\n                <button\r\n                  onClick={resetCourse}\r\n                  className=\"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300\"\r\n                >\r\n                  🔄 Reset Progress\r\n                </button>\r\n              </div>\r\n\r\n              {/* Course Stats */}\r\n              {courseStats && (\r\n                <div className=\"bg-blue-50 p-4 rounded-lg mb-6\">\r\n                  <h4 className=\"font-semibold text-blue-800 mb-2\">Course Progress</h4>\r\n                  <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n                    <div>\r\n                      <p className=\"text-2xl font-bold text-blue-600\">{courseStats.total_cards}</p>\r\n                      <p className=\"text-sm text-gray-600\">Total Cards</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-2xl font-bold text-green-600\">{courseStats.mastered}</p>\r\n                      <p className=\"text-sm text-gray-600\">Mastered</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-2xl font-bold text-orange-600\">{courseStats.due_today}</p>\r\n                      <p className=\"text-sm text-gray-600\">Due Today</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"text-center mb-8\">\r\n                <p className=\"text-gray-600 text-lg\">Card {currentCardIndex + 1} of {practiceCards.length}</p>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2 mt-4\">\r\n                  <div className=\"bg-purple-600 h-2 rounded-full transition-all duration-300\" style={{width: `${((currentCardIndex + 1) / practiceCards.length) * 100}%`}}></div>\r\n                </div>\r\n              </div>\r\n              <div className=\"mb-8\">\r\n                <h3 className=\"text-3xl font-bold mb-6 text-center text-gray-800\">{practiceCards[currentCardIndex].front}</h3>\r\n                <div className=\"text-center flex justify-center space-x-4 mb-4\">\r\n                  <button\r\n                    onClick={() => playTTS(practiceCards[currentCardIndex].front, 'en')}\r\n                    className=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\"\r\n                  >\r\n                    🔊 English\r\n                  </button>\r\n                  <button\r\n                    onClick={isRecording ? stopRecording : startRecording}\r\n                    className={`py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold ${\r\n                      isRecording ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-green-500 hover:bg-green-600 text-white'\r\n                    }`}\r\n                  >\r\n                    {isRecording ? '⏹ Stop Recording' : '🎤 Record'}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowHint(!showHint);\r\n                      if (!showHint) setHintUsed(true);\r\n                    }}\r\n                    className=\"bg-yellow-500 hover:bg-yellow-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\"\r\n                  >\r\n                    💡 Hint\r\n                  </button>\r\n                </div>\r\n\r\n                {/* Hint Display */}\r\n                {showHint && (\r\n                  <div className=\"text-center mb-4 animate-fade-in\">\r\n                    <p className=\"text-lg text-gray-600\">First letter: <span className=\"font-bold text-purple-600\">{practiceCards[currentCardIndex].back.charAt(0)}</span></p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Navigation Buttons */}\r\n                <div className=\"text-center flex justify-center space-x-4\">\r\n                  <button\r\n                    onClick={() => {\r\n                      if (currentCardIndex > 0) {\r\n                        setCurrentCardIndex(currentCardIndex - 1);\r\n                        setShowAnswer(false);\r\n                        setShowHint(false);\r\n                        setHintUsed(false);\r\n                        setEvaluationResult(null);\r\n                      }\r\n                    }}\r\n                    disabled={currentCardIndex === 0}\r\n                    className={`py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold ${\r\n                      currentCardIndex === 0\r\n                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                        : 'bg-indigo-500 hover:bg-indigo-600 text-white hover:scale-105'\r\n                    }`}\r\n                  >\r\n                    ← Previous\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      if (currentCardIndex < practiceCards.length - 1) {\r\n                        setCurrentCardIndex(currentCardIndex + 1);\r\n                        setShowAnswer(false);\r\n                        setShowHint(false);\r\n                        setHintUsed(false);\r\n                        setEvaluationResult(null);\r\n                      }\r\n                    }}\r\n                    disabled={currentCardIndex === practiceCards.length - 1}\r\n                    className={`py-2 px-4 rounded-lg shadow-md transform transition-all duration-300 font-semibold ${\r\n                      currentCardIndex === practiceCards.length - 1\r\n                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                        : 'bg-indigo-500 hover:bg-indigo-600 text-white hover:scale-105'\r\n                    }`}\r\n                  >\r\n                    Next →\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {!showAnswer ? (\r\n                <button\r\n                  onClick={() => setShowAnswer(true)}\r\n                  className=\"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-4 px-8 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 text-xl font-semibold\"\r\n                >\r\n                  Show Answer ✨\r\n                </button>\r\n              ) : (\r\n                <div className=\"animate-fade-in\">\r\n                  <p className=\"text-2xl mb-6 text-center text-gray-700 font-medium\">{practiceCards[currentCardIndex].back}</p>\r\n                  <div className=\"text-center mb-6 flex justify-center space-x-4\">\r\n                    <button\r\n                      onClick={() => playTTS(practiceCards[currentCardIndex].back, selectedCourse)}\r\n                      className=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg shadow-md transform hover:scale-110 transition-all duration-300\"\r\n                    >\r\n                      🔊 Target Language\r\n                    </button>\r\n                    {evaluationResult && (\r\n                      <div className={`p-6 rounded-lg shadow-md text-left max-w-lg mx-auto border-l-4 ${\r\n                        evaluationResult.similarity >= 80 ? 'bg-green-50 border-green-500' :\r\n                        evaluationResult.similarity >= 60 ? 'bg-yellow-50 border-yellow-500' :\r\n                        'bg-red-50 border-red-500'\r\n                      }`}>\r\n                        <h4 className=\"font-bold text-lg mb-3 flex items-center\">\r\n                          <span className=\"mr-2\">🎤</span>\r\n                          Pronunciation Feedback\r\n                        </h4>\r\n\r\n                        <div className=\"mb-4\">\r\n                          <div className=\"flex justify-between items-center mb-2\">\r\n                            <span className=\"font-medium\">Similarity Score:</span>\r\n                            <span className={`font-bold text-lg ${\r\n                              evaluationResult.similarity >= 80 ? 'text-green-600' :\r\n                              evaluationResult.similarity >= 60 ? 'text-yellow-600' :\r\n                              'text-red-600'\r\n                            }`}>\r\n                              {evaluationResult.similarity}%\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                            <div\r\n                              className={`h-3 rounded-full transition-all duration-500 ${\r\n                                evaluationResult.similarity >= 80 ? 'bg-green-500' :\r\n                                evaluationResult.similarity >= 60 ? 'bg-yellow-500' :\r\n                                'bg-red-500'\r\n                              }`}\r\n                              style={{width: `${evaluationResult.similarity}%`}}\r\n                            ></div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                          <p><strong>Grade:</strong> <span className=\"text-purple-600 font-semibold\">{evaluationResult.grade}</span></p>\r\n                          <p><strong>Feedback:</strong> {evaluationResult.feedback}</p>\r\n                          <p><strong>You said:</strong> <span className=\"italic\">\"{evaluationResult.transcript}\"</span></p>\r\n                        </div>\r\n\r\n                        {evaluationResult.similarity >= 80 && (\r\n                          <div className=\"mt-4 text-center\">\r\n                            <span className=\"text-green-600 font-semibold\">🎉 Excellent pronunciation!</span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                    <button onClick={() => reviewCard(0)} className=\"bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\">Again (0)</button>\r\n                    <button onClick={() => reviewCard(1)} className=\"bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\">Hard (1)</button>\r\n                    <button onClick={() => reviewCard(2)} className=\"bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\">Good (2)</button>\r\n                    <button onClick={() => reviewCard(3)} className=\"bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 font-semibold\">Easy (3)</button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AITutor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}